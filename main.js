(()=>{"use strict";class e{constructor(e,t){this._name=e,this._todos=t}get name(){return this._name}get todos(){return this._todos}get id(){return this._id}get isEmpty(){return this._todos<=0}set name(e){this._name=e}set id(e){this._id=e}addTodo(e){this.todos.push(e)}addTabDOM(e){this._tabDOM=e}get tabDOM(){return this._tabDOM}}class t{constructor(e,t,n){this._title=e,this._notes=t,this._checklist=n}get title(){return this._title}get notes(){return this._notes}get checklist(){return this._checklist}set title(e){this._title=e}set notes(e){this._notes=e}addChecklistItem(e,t){_checklist.set(e,t)}removeChecklistItem(e){_checklist.remove(e)}}const n=e=>{const t=document.createElement("div");t.classList.add("tab"),t.classList.add("unselected");const n=document.createElement("span");n.innerText=e.title,t.addEventListener("click",(()=>{d.selectTodo(e)}));const s=document.createElement("i");return s.classList.add("fas"),s.classList.add("fa-times"),s.addEventListener("click",(t=>{t.stopPropagation(),d.closeTodo(e)})),t.appendChild(n),t.appendChild(s),t};class s{static RemoveChildNodes(e){for(;e.firstChild;)e.removeChild(e.firstChild)}static CreateElementFromHTML(e){const t=document.createElement("template");return e=e.trim(),t.innerHTML=e,t.content.firstChild}}const c=(()=>{const e=e=>{const t=document.createElement("div");t.classList.add("notes-container");const n=document.createElement("h3");n.innerText="Notes";const s=document.createElement("textarea");return s.classList.add("notes"),s.innerText=e.notes,t.appendChild(n),t.appendChild(s),t},t=e=>{const t=document.createElement("div");t.classList.add("checklist-container");const n=document.createElement("h3");n.innerText="Checklist";const c=document.createElement("ul");return s.CreateElementFromHTML('<i class="fas fa-check-circle item-icon"></i>'),s.CreateElementFromHTML('<i class="fas fa-times-circle item-icon"></i>'),e.checklist?.size&&e.checklist.forEach(((e,t)=>{const n=document.createElement("li");if(console.log(t+" "+e),e){n.classList.add("checked");const e=s.CreateElementFromHTML('<i class="fas fa-check-circle item-icon"></i>');n.appendChild(e)}else{n.classList.add("unchecked");const e=s.CreateElementFromHTML('<i class="fas fa-times-circle item-icon"></i>');n.appendChild(e)}n.addEventListener("click",(({currentTarget:e})=>{let t=e.classList;const n=e.querySelector(".item-icon");t.contains("checked")?(t.remove("checked"),t.add("unchecked"),n.classList.remove("fa-check-circle"),n.classList.add("fa-times-circle")):t.contains("unchecked")&&(t.remove("unchecked"),t.add("checked"),n.classList.add("fa-check-circle"),n.classList.remove("fa-times-circle"))}));const d=document.createElement("span");d.innerText=t,n.appendChild(d),c.appendChild(n)})),t.appendChild(n),t.appendChild(c),t};return{generateEditor:n=>{const s=document.getElementById("notes-editor");s.appendChild((n=>{const s=document.getElementById("notes-content"),c=e(n),d=t(n);return s.appendChild(c),s.appendChild(d),s})(n)),s.appendChild((e=>{const t=document.getElementById("notes-details");return t.innerHTML="<div>\n            <h3>Due Date</h3>\n            <div>5th December 2020</div>\n            <h3>Priority</h3>\n            <div>Red</div>\n            </div>",t})())},clearEditor:()=>{const e=document.getElementById("notes-content");s.RemoveChildNodes(e);const t=document.getElementById("notes-details");s.RemoveChildNodes(t)}}})(),d=(()=>{let e,t=[],s=[];const d=document.getElementById("notes-explorer").children[0];function i(n){if(void 0!==e){let n=t.indexOf(e);a(s[n])}let d=t.indexOf(n);a(s[d]),e=n,c.clearEditor(),c.generateEditor(n)}function a(e){let t=e.classList;t.contains("unselected")?(t.remove("unselected"),t.add("selected")):t.contains("selected")&&(t.add("unselected"),t.remove("selected"))}function o(e){return!!t.includes(e)}return{openTodo:function(e){var c;o(e)||(c=n(e),d.appendChild(c),s.push(c),t.push(e),i(e))},closeTodo:function(n){if(!o(n))return;let c=t.indexOf(n);t.splice(c,1),s[c].remove(),s.splice(c,1),n===e&&0!==t.length?(e=void 0,i(t[t.length-1])):n===e&&(e=void 0)},selectTodo:i}})(),i=(()=>{const e=e=>{const t=document.createElement("div");t.classList.add("todo-doc");const n=document.createElement("i");n.classList.add("far"),n.classList.add("fa-file-alt");const s=document.createElement("span");return s.innerText=e.title,t.appendChild(n),t.appendChild(s),t.addEventListener("click",(()=>{d.openTodo(e)})),t};return{generateTab:t=>{const n=document.createElement("div");n.classList.add("project-container"),n.attributes["data-projectId"]=t.id;const s=document.createElement("div");s.classList.add("project-title"),s.classList.add("unselected");const c=document.createElement("i");c.classList.add("fas"),c.classList.add("fa-angle-right");const d=document.createElement("span");d.innerText=t.name,s.appendChild(c),s.appendChild(d);const i=document.createElement("div");return i.classList.add("list-container"),i.classList.add("closed"),((t,n)=>{n.forEach((n=>{t.appendChild(e(n))}))})(i,t.todos),s.addEventListener("click",(({currentTarget:e})=>{(e=>{let t=e.children[0],n=t.classList;n.contains("unselected")?(n.remove("unselected"),n.add("selected"),t.children[0].classList.remove("fa-angle-right"),t.children[0].classList.add("fa-angle-down"),e.children[1].classList.remove("closed"),e.children[1].classList.add("opened")):n.contains("selected")&&(n.add("unselected"),n.remove("selected"),t.children[0].classList.add("fa-angle-right"),t.children[0].classList.remove("fa-angle-down"),e.children[1].classList.remove("opened"),e.children[1].classList.add("closed"))})(e.parentNode)})),n.appendChild(s),n.appendChild(i),t.addTabDOM(n),n}}})(),a=(()=>{const e=document.getElementById("project-explorer");function t(t){e.appendChild(t)}return{loadProject:function(e){t(i.generateTab(e))},loadProjects:function(e){e.forEach((e=>{t(i.generateTab(e))}))}}})(),o=(()=>{let e=[];return{addProject:function(t){t.id=e.length,e.push(t)},getProject:function(t){return e[t]},getProjects:function(){return e},getNum:function(){return e.length}}})();document.getElementById("app"),function(n){let s=new Map;s.set("Item 1",!1),s.set("Item 2",!0),s.set("Item 3",!1),s.set("Item 4",!1),s.set("Item 5",!1);let c=new t("Boopy","Hello I am a list!",s),d=new t("Hello I am a tab","Hello I am a list 2!"),i=new e("Hi Kez",[c,d]),l=new e("Boop",[d]);o.addProject(i),o.addProject(l),a.loadProjects(o.getProjects())}()})();